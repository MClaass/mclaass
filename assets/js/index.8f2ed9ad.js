var M=Object.defineProperty;var C=(i,o,t)=>o in i?M(i,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[o]=t;var d=(i,o,t)=>(C(i,typeof o!="symbol"?o+"":o,t),t);import{p as f}from"./vendor.e7d72309.js";const x=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=t(e);fetch(e.href,s)}};x();class V{constructor(o,t){d(this,"id");d(this,"position");d(this,"radius");d(this,"color");d(this,"joints");d(this,"isHovered");this.id=`${Math.round(o.x)}${Math.round(o.y)}`,this.position=o,this.radius=6,this.color=t,this.joints=new Set,this.isHovered=!1}checkBoundaryCollision(){const{position:{x:o,y:t},radius:n}=this,e=o>c.width-n||o<n,s=t>c.height-n||t<n;return!!(e||s)}checkCollision(o){const{position:t,radius:n}=this,{position:e,radius:s}=o,l=f.Vector.sub(e,t).mag(),a=n+s;return l<a}checkHoverState(o){const{position:t,radius:n}=this,s=f.Vector.sub(t,o).mag();this.isHovered=s<n}display(){c.noStroke();const{position:{x:o,y:t},radius:n,color:e}=this;c.fill(e),c.circle(o,t,n)}addJoints(o){this.joints.add(o)}}class k{constructor(){d(this,"list");this.list=new Map}add(o){this.list.set(o.id,o)}remove(o){this.list.delete(o)}displayNodes(){this.list.forEach(o=>{o.display()})}displayJoints(){this.list.forEach(o=>{const{joints:t}=o;t.forEach(([n,e])=>{const{color:s,position:r}=n,{color:l,position:a}=e,h=c.lerpColor(c.color(s),c.color(l),.5);c.stroke(h),c.line(r.x,r.y,a.x,a.y)})})}joinNodes(){this.list.size>1&&this.list.forEach(o=>{const t=new Map(this.list);t.delete(o.id),this.joinToOtherNodes(o,t)})}joinToOtherNodes(o,t){t.forEach(n=>{const{id:e,position:s,joints:r,color:l}=o,{id:a,position:h,joints:j,color:v}=n,N=c.dist(s.x,s.y,h.x,h.y);if(e!==a&&N<window.innerWidth/8&&r.size<=4&&j.size<=4){const w=[{id:e,position:s,color:l},{id:a,position:h,color:v}];o.addJoints(w)}})}removeJoints(o){this.list.forEach(t=>{const e=[...t.joints].filter(([s,r])=>r.id===o);e.length>0&&e.map(s=>t.joints.delete(s))})}}function p(i,o){return Math.random()*(o-i)+i}function b(i){const o=Math.floor(i.length-1),t=Math.floor(Math.random()*o);return i[t]}const E=[[194,100,10],[169,100,45],[181,93,59],[159,29,83],[45,29,91],[39,100,93],[30,99,79],[19,99,73],[4,88,68],[358,78,61]],u=new k,{list:y}=u,H=i=>{i.setup=()=>{const o=350,t=350;i.createCanvas(o,t),i.colorMode("hsb",360,100,100,100),i.angleMode("degrees");const n=Math.round(Math.min(o*t/7e3,100));for(let e=0;e<n;e++){const s=p(0,o),r=p(0,t);g(s,r)}m()},i.mouseClicked=()=>{const o=L();if(o!==void 0){u.removeJoints(o.id),u.remove(o.id),i.clear(0,0,0,0),m();return}g(i.mouseX,i.mouseY),m()}};function g(i,o){const t=b(E),n=new f.Vector(i,o),e=new V(n,t),s=[...y].some(([r,l])=>e.checkCollision(l));!e.checkBoundaryCollision()&&!s&&u.add(e)}function L(){const i=new f.Vector(c.mouseX,c.mouseY),o=[...y].map(([t,n])=>(n.checkHoverState(i),n)).filter(t=>t.isHovered===!0);return o.length>0?o[0]:void 0}function m(){u.displayNodes(),u.joinNodes(),u.displayJoints()}const c=new f(H);
